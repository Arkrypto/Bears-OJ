<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>All Subjects</title>

    <link th:href="@{css/app.css}" rel="stylesheet">
</head>
<body>
<div class="wrapper">
    <!-- 侧边栏：导入过程给active赋值，通过active判断高亮显示 -->
    <div th:replace="~{commons/commons::sidebar(active='allSubjects.html')}"></div>

    <!--网页右侧-->
    <div class="main">
        <!-- 头部搜索框 -->
        <div th:replace="~{commons/commons::topbar}"></div>

        <!--信息展示内容-->
        <!--信息展示-->
        <main class="content">
            <div class="container-fluid p-0">

                <h1 class="h3 mb-3">Tables</h1>

                <div class="row">
                    <!--前五名表格-->
                    <div class="col-12 col-xl-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title">前九名</h5><br>
                                <h6 class="card-subtitle text-muted">小花卷，卷起来！</h6>
                            </div>
                            <table class="table">
                                <!--表头-->
                                <thead>
                                <tr>
                                    <th style="width:12%;">姓名</th>
                                    <th style="width:7%">学号</th>
                                    <th style="width:7%">性别</th>
                                    <th style="width:6%">语</th>
                                    <th style="width:6%">数</th>
                                    <th style="width:6%">英</th>
                                    <th style="width:6%">物</th>
                                    <th style="width:6%">化</th>
                                    <th style="width:6%">生</th>
                                    <th style="width:6%">政</th>
                                    <th style="width:6%">史</th>
                                    <th style="width:6%">地</th>
                                    <th style="width:7%">总</th>
                                </tr>
                                </thead>

                                <tbody>
                                <tr th:each="stu:${topStu}">
                                    <td th:text="${stu.getName()}"></td>
                                    <td th:text="${stu.getId()}"></td>
                                    <td th:text="${stu.getGender()==1?'男':'女'}"></td>
                                    <td th:text="${stu.getGrade().getChinese()}"></td>
                                    <td th:text="${stu.getGrade().getMath()}"></td>
                                    <td th:text="${stu.getGrade().getEnglish()}"></td>
                                    <td th:text="${stu.getGrade().getPhysics()}"></td>
                                    <td th:text="${stu.getGrade().getChemistry()}"></td>
                                    <td th:text="${stu.getGrade().getBiology()}"></td>
                                    <td th:text="${stu.getGrade().getPolitics()}">
                                    <td th:text="${stu.getGrade().getHistory()}">
                                    <td th:text="${stu.getGrade().getGeography()}">
                                    <td th:text="${stu.getGrade().getAllSum()}">
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="col-12 col-xl-6">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title">各科基本情况</h5><br>
                                <h6 class="card-subtitle text-muted">详情见单科分析</h6>
                            </div>
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th style="width:12%;">科目</th>
                                    <th style="width:9%"><=60(人)</th>
                                    <th style="width:9%">60~69</th>
                                    <th style="width:9%">70~79</th>
                                    <th style="width:9%">80~89</th>
                                    <th style="width:9%">>=90</th>
                                    <th style="width:12%">最高分(分)</th>
                                    <th style="width:9%">最低分</th>
                                    <th style="width:9%">平均分</th>
                                </tr>
                                </thead>
                                <tbody>

                                <tr th:each="info:${subjectInfo}">
                                    <td th:text="${info.getSubject()}"></td>
                                    <td th:text="${info.getLevel1()}"></td>
                                    <td th:text="${info.getLevel2()}"></td>
                                    <td th:text="${info.getLevel3()}"></td>
                                    <td th:text="${info.getLevel4()}"></td>
                                    <td th:text="${info.getLevel5()}"></td>
                                    <td th:text="${info.getTopNum()}"></td>
                                    <td th:text="${info.getBaseNum()}"></td>
                                    <td th:text="${info.getAverage()}"></td>
                                </tr>

                                </tbody>
                            </table>
                        </div>
                    </div>


                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="card-title">单科王</h5>
                            </div>
                            <div class="table-responsive">
                                <table class="table mb-0">
                                    <thead>
                                    <tr>
                                        <th scope="col" style="width: 12%;">小花卷们~</th>
                                        <th scope="col">语文</th>
                                        <th scope="col">数学</th>
                                        <th scope="col">英语</th>
                                        <th scope="col">物理</th>
                                        <th scope="col">化学</th>
                                        <th scope="col">生物</th>
                                        <th scope="col">政治</th>
                                        <th scope="col">历史</th>
                                        <th scope="col">地理</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <th scope="row">1</th>
                                        <td th:text="${topInfo.getChinese_topStu_name()}"></td>
                                        <td th:text="${topInfo.getMath_topStu_name()}"></td>
                                        <td th:text="${topInfo.getEnglish_topStu_name()}"></td>
                                        <td th:text="${topInfo.getPhysics_topStu_name()}"></td>
                                        <td th:text="${topInfo.getChemistry_topStu_name()}"></td>
                                        <td th:text="${topInfo.getBiology_topStu_name()}"></td>
                                        <td th:text="${topInfo.getPolitics_topStu_name()}"></td>
                                        <td th:text="${topInfo.getHistory_topStu_name()}"></td>
                                        <td th:text="${topInfo.getGeography_topStu_name()}"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>


                    <div class="col-12 col-xl-6" style="width: 100%;">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">总排名</h4>
                            </div>
                            <table class="table">
                                <!--表头-->
                                <thead>
                                <tr>
                                    <th style="width:5%;">排名</th>
                                    <th style="width:7%;">姓名</th>
                                    <th style="width:5%">学号</th>
                                    <th style="width:6%">性别</th>
                                    <th style="width:6%">语</th>
                                    <th style="width:6%">数</th>
                                    <th style="width:6%">英</th>
                                    <th style="width:6%">物</th>
                                    <th style="width:6%">化</th>
                                    <th style="width:6%">生</th>
                                    <th style="width:6%">政</th>
                                    <th style="width:6%">史</th>
                                    <th style="width:6%">地</th>
                                    <th style="width:6%">三科</th>
                                    <th style="width:6%">理综</th>
                                    <th style="width:6%">文综</th>
                                    <th style="width:6%">总</th>
                                    <th>Actions</th>
                                </tr>
                                </thead>

                                <!--排名展示-->
                                <tbody>
                                <tr th:each="stu:${students}">
                                    <td th:text="${num.getNum()==students.size()}?${num.rebootNum()}:${num.getIncreaseNum()}"></td>
                                    <td th:text="${stu.getName()}"></td>
                                    <td th:text="${stu.getId()}"></td>
                                    <td th:text="${stu.getGender()==1?'男':'女'}"></td>
                                    <td th:text="${stu.getGrade().getChinese()}"></td>
                                    <td th:text="${stu.getGrade().getMath()}"></td>
                                    <td th:text="${stu.getGrade().getEnglish()}"></td>
                                    <td th:text="${stu.getGrade().getPhysics()}"></td>
                                    <td th:text="${stu.getGrade().getChemistry()}"></td>
                                    <td th:text="${stu.getGrade().getBiology()}"></td>
                                    <td th:text="${stu.getGrade().getPolitics()}"></td>
                                    <td th:text="${stu.getGrade().getHistory()}"></td>
                                    <td th:text="${stu.getGrade().getGeography()}"></td>
                                    <td th:text="${stu.getGrade().getMainSum()}"></td>
                                    <td th:text="${stu.getGrade().getScienceSum()}"></td>
                                    <td th:text="${stu.getGrade().getLiberalSum()}"></td>
                                    <td th:text="${stu.getGrade().getAllSum()}"></td>
                                    <td class="table-action">
                                        <a type="submit" th:href="@{/update/allSubjects/}+${stu.getId()}" style="margin-right: 9px;"><i class="align-middle" data-feather="edit-2"></i></a>
                                        <a type="submit" th:href="@{/drop/allSubjects/}+${stu.getId()}" ><i class="align-middle" data-feather="trash"></i></a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>


                </div>

            </div>
        </main>

        <!-- 页脚 -->
        <div th:replace="~{commons/commons::footer}"></div>
    </div>
</div>
<script th:src="@{js/app.js}"></script>
</body>
</html>